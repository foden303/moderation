// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: user.sql

package sqlc

import (
	"context"
)

const createUser = `-- name: CreateUser :one
INSERT INTO users (
  id, nickname, user_identifier, storage_photos_used, storage_video_used, storage_document_used, storage_audio_used, storage_compress_used, storage_other_used
) VALUES (
  $1, $2, $3, $4, $5, $6, $7, $8, $9
)
RETURNING id, nickname, user_identifier, effective_storage_quota, storage_photos_used, storage_video_used, storage_document_used, storage_audio_used, storage_compress_used, storage_other_used, storage_total_used, created_at, updated_at
`

type CreateUserParams struct {
	ID                  string `json:"id"`
	Nickname            string `json:"nickname"`
	UserIdentifier      string `json:"user_identifier"`
	StoragePhotosUsed   int64  `json:"storage_photos_used"`
	StorageVideoUsed    int64  `json:"storage_video_used"`
	StorageDocumentUsed int64  `json:"storage_document_used"`
	StorageAudioUsed    int64  `json:"storage_audio_used"`
	StorageCompressUsed int64  `json:"storage_compress_used"`
	StorageOtherUsed    int64  `json:"storage_other_used"`
}

func (q *Queries) CreateUser(ctx context.Context, arg CreateUserParams) (User, error) {
	row := q.db.QueryRow(ctx, createUser,
		arg.ID,
		arg.Nickname,
		arg.UserIdentifier,
		arg.StoragePhotosUsed,
		arg.StorageVideoUsed,
		arg.StorageDocumentUsed,
		arg.StorageAudioUsed,
		arg.StorageCompressUsed,
		arg.StorageOtherUsed,
	)
	var i User
	err := row.Scan(
		&i.ID,
		&i.Nickname,
		&i.UserIdentifier,
		&i.EffectiveStorageQuota,
		&i.StoragePhotosUsed,
		&i.StorageVideoUsed,
		&i.StorageDocumentUsed,
		&i.StorageAudioUsed,
		&i.StorageCompressUsed,
		&i.StorageOtherUsed,
		&i.StorageTotalUsed,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getUserByID = `-- name: GetUserByID :one
SELECT id, nickname, user_identifier, effective_storage_quota, storage_photos_used, storage_video_used, storage_document_used, storage_audio_used, storage_compress_used, storage_other_used, storage_total_used, created_at, updated_at FROM users
WHERE id = $1 LIMIT 1
`

func (q *Queries) GetUserByID(ctx context.Context, id string) (User, error) {
	row := q.db.QueryRow(ctx, getUserByID, id)
	var i User
	err := row.Scan(
		&i.ID,
		&i.Nickname,
		&i.UserIdentifier,
		&i.EffectiveStorageQuota,
		&i.StoragePhotosUsed,
		&i.StorageVideoUsed,
		&i.StorageDocumentUsed,
		&i.StorageAudioUsed,
		&i.StorageCompressUsed,
		&i.StorageOtherUsed,
		&i.StorageTotalUsed,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const updateStorageAudioUsed = `-- name: UpdateStorageAudioUsed :exec
UPDATE users SET storage_audio_used = storage_audio_used + $2, updated_at = now() WHERE id = $1
`

type UpdateStorageAudioUsedParams struct {
	ID               string `json:"id"`
	StorageAudioUsed int64  `json:"storage_audio_used"`
}

func (q *Queries) UpdateStorageAudioUsed(ctx context.Context, arg UpdateStorageAudioUsedParams) error {
	_, err := q.db.Exec(ctx, updateStorageAudioUsed, arg.ID, arg.StorageAudioUsed)
	return err
}

const updateStorageCompressUsed = `-- name: UpdateStorageCompressUsed :exec
UPDATE users SET storage_compress_used = storage_compress_used + $2, updated_at = now() WHERE id = $1
`

type UpdateStorageCompressUsedParams struct {
	ID                  string `json:"id"`
	StorageCompressUsed int64  `json:"storage_compress_used"`
}

func (q *Queries) UpdateStorageCompressUsed(ctx context.Context, arg UpdateStorageCompressUsedParams) error {
	_, err := q.db.Exec(ctx, updateStorageCompressUsed, arg.ID, arg.StorageCompressUsed)
	return err
}

const updateStorageDocumentUsed = `-- name: UpdateStorageDocumentUsed :exec
UPDATE users SET storage_document_used = storage_document_used + $2, updated_at = now() WHERE id = $1
`

type UpdateStorageDocumentUsedParams struct {
	ID                  string `json:"id"`
	StorageDocumentUsed int64  `json:"storage_document_used"`
}

func (q *Queries) UpdateStorageDocumentUsed(ctx context.Context, arg UpdateStorageDocumentUsedParams) error {
	_, err := q.db.Exec(ctx, updateStorageDocumentUsed, arg.ID, arg.StorageDocumentUsed)
	return err
}

const updateStorageOtherUsed = `-- name: UpdateStorageOtherUsed :exec
UPDATE users SET storage_other_used = storage_other_used + $2, updated_at = now() WHERE id = $1
`

type UpdateStorageOtherUsedParams struct {
	ID               string `json:"id"`
	StorageOtherUsed int64  `json:"storage_other_used"`
}

func (q *Queries) UpdateStorageOtherUsed(ctx context.Context, arg UpdateStorageOtherUsedParams) error {
	_, err := q.db.Exec(ctx, updateStorageOtherUsed, arg.ID, arg.StorageOtherUsed)
	return err
}

const updateStoragePhotosUsed = `-- name: UpdateStoragePhotosUsed :exec
UPDATE users SET storage_photos_used = storage_photos_used + $2, updated_at = now() WHERE id = $1
`

type UpdateStoragePhotosUsedParams struct {
	ID                string `json:"id"`
	StoragePhotosUsed int64  `json:"storage_photos_used"`
}

func (q *Queries) UpdateStoragePhotosUsed(ctx context.Context, arg UpdateStoragePhotosUsedParams) error {
	_, err := q.db.Exec(ctx, updateStoragePhotosUsed, arg.ID, arg.StoragePhotosUsed)
	return err
}

const updateStorageVideoUsed = `-- name: UpdateStorageVideoUsed :exec
UPDATE users SET storage_video_used = storage_video_used + $2, updated_at = now() WHERE id = $1
`

type UpdateStorageVideoUsedParams struct {
	ID               string `json:"id"`
	StorageVideoUsed int64  `json:"storage_video_used"`
}

func (q *Queries) UpdateStorageVideoUsed(ctx context.Context, arg UpdateStorageVideoUsedParams) error {
	_, err := q.db.Exec(ctx, updateStorageVideoUsed, arg.ID, arg.StorageVideoUsed)
	return err
}

const updateUserStorage = `-- name: UpdateUserStorage :exec
UPDATE users
SET
    storage_photos_used = $2,
    storage_video_used = $3,
    storage_document_used = $4,
    storage_audio_used = $5,
    storage_compress_used = $6,
    storage_other_used = $7,
    updated_at = now()
WHERE id = $1
`

type UpdateUserStorageParams struct {
	ID                  string `json:"id"`
	StoragePhotosUsed   int64  `json:"storage_photos_used"`
	StorageVideoUsed    int64  `json:"storage_video_used"`
	StorageDocumentUsed int64  `json:"storage_document_used"`
	StorageAudioUsed    int64  `json:"storage_audio_used"`
	StorageCompressUsed int64  `json:"storage_compress_used"`
	StorageOtherUsed    int64  `json:"storage_other_used"`
}

func (q *Queries) UpdateUserStorage(ctx context.Context, arg UpdateUserStorageParams) error {
	_, err := q.db.Exec(ctx, updateUserStorage,
		arg.ID,
		arg.StoragePhotosUsed,
		arg.StorageVideoUsed,
		arg.StorageDocumentUsed,
		arg.StorageAudioUsed,
		arg.StorageCompressUsed,
		arg.StorageOtherUsed,
	)
	return err
}

const upsertUser = `-- name: UpsertUser :one
INSERT INTO users (
  id, nickname, user_identifier, storage_photos_used, storage_video_used, storage_document_used, storage_audio_used, storage_compress_used, storage_other_used
) VALUES (
  $1, $2, $3, $4, $5, $6, $7, $8, $9
)
ON CONFLICT (id) DO UPDATE SET
    nickname = EXCLUDED.nickname,
    user_identifier = EXCLUDED.user_identifier,
    updated_at = now()
RETURNING id, nickname, user_identifier, effective_storage_quota, storage_photos_used, storage_video_used, storage_document_used, storage_audio_used, storage_compress_used, storage_other_used, storage_total_used, created_at, updated_at
`

type UpsertUserParams struct {
	ID                  string `json:"id"`
	Nickname            string `json:"nickname"`
	UserIdentifier      string `json:"user_identifier"`
	StoragePhotosUsed   int64  `json:"storage_photos_used"`
	StorageVideoUsed    int64  `json:"storage_video_used"`
	StorageDocumentUsed int64  `json:"storage_document_used"`
	StorageAudioUsed    int64  `json:"storage_audio_used"`
	StorageCompressUsed int64  `json:"storage_compress_used"`
	StorageOtherUsed    int64  `json:"storage_other_used"`
}

func (q *Queries) UpsertUser(ctx context.Context, arg UpsertUserParams) (User, error) {
	row := q.db.QueryRow(ctx, upsertUser,
		arg.ID,
		arg.Nickname,
		arg.UserIdentifier,
		arg.StoragePhotosUsed,
		arg.StorageVideoUsed,
		arg.StorageDocumentUsed,
		arg.StorageAudioUsed,
		arg.StorageCompressUsed,
		arg.StorageOtherUsed,
	)
	var i User
	err := row.Scan(
		&i.ID,
		&i.Nickname,
		&i.UserIdentifier,
		&i.EffectiveStorageQuota,
		&i.StoragePhotosUsed,
		&i.StorageVideoUsed,
		&i.StorageDocumentUsed,
		&i.StorageAudioUsed,
		&i.StorageCompressUsed,
		&i.StorageOtherUsed,
		&i.StorageTotalUsed,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}
