// Code generated by protoc-gen-go-http. DO NOT EDIT.
// versions:
// - protoc-gen-go-http v2.9.2
// - protoc             v6.33.4
// source: storage/v1/ps_file.proto

package v1

import (
	context "context"
	http "github.com/go-kratos/kratos/v2/transport/http"
	binding "github.com/go-kratos/kratos/v2/transport/http/binding"
)

// This is a compile-time assertion to ensure that this generated file
// is compatible with the kratos package it is being compiled against.
var _ = new(context.Context)
var _ = binding.EncodeURL

const _ = http.SupportPackageIsVersion1

const OperationPsFileServiceCheckPsFileExists = "/storage.v1.PsFileService/CheckPsFileExists"
const OperationPsFileServiceCreatePsFile = "/storage.v1.PsFileService/CreatePsFile"
const OperationPsFileServiceDecrementReferenceCount = "/storage.v1.PsFileService/DecrementReferenceCount"
const OperationPsFileServiceGetPsFile = "/storage.v1.PsFileService/GetPsFile"
const OperationPsFileServiceGetPsFileByHash = "/storage.v1.PsFileService/GetPsFileByHash"
const OperationPsFileServiceIncrementReferenceCount = "/storage.v1.PsFileService/IncrementReferenceCount"
const OperationPsFileServiceListPsFiles = "/storage.v1.PsFileService/ListPsFiles"
const OperationPsFileServiceUpdatePsFileStatus = "/storage.v1.PsFileService/UpdatePsFileStatus"

type PsFileServiceHTTPServer interface {
	// CheckPsFileExists Check if physical file exists by hash
	CheckPsFileExists(context.Context, *CheckPsFileExistsRequest) (*CheckPsFileExistsResponse, error)
	// CreatePsFile Create a new physical file record
	CreatePsFile(context.Context, *CreatePsFileRequest) (*CreatePsFileResponse, error)
	// DecrementReferenceCount Decrement reference count (when file is deleted by a user)
	DecrementReferenceCount(context.Context, *DecrementReferenceCountRequest) (*DecrementReferenceCountResponse, error)
	// GetPsFile Get physical file by ID
	GetPsFile(context.Context, *GetPsFileRequest) (*GetPsFileResponse, error)
	// GetPsFileByHash Get physical file by hash (for deduplication)
	GetPsFileByHash(context.Context, *GetPsFileByHashRequest) (*GetPsFileByHashResponse, error)
	// IncrementReferenceCount Increment reference count (when file is referenced by another user)
	IncrementReferenceCount(context.Context, *IncrementReferenceCountRequest) (*IncrementReferenceCountResponse, error)
	// ListPsFiles List all physical files
	ListPsFiles(context.Context, *ListPsFilesRequest) (*ListPsFilesResponse, error)
	// UpdatePsFileStatus Update physical file status
	UpdatePsFileStatus(context.Context, *UpdatePsFileStatusRequest) (*UpdatePsFileStatusResponse, error)
}

func RegisterPsFileServiceHTTPServer(s *http.Server, srv PsFileServiceHTTPServer) {
	r := s.Route("/")
	r.POST("/v1/ps-files", _PsFileService_CreatePsFile0_HTTP_Handler(srv))
	r.GET("/v1/ps-files/{id}", _PsFileService_GetPsFile0_HTTP_Handler(srv))
	r.GET("/v1/ps-files/hash/{hash}", _PsFileService_GetPsFileByHash0_HTTP_Handler(srv))
	r.GET("/v1/ps-files/exists/{hash}", _PsFileService_CheckPsFileExists0_HTTP_Handler(srv))
	r.GET("/v1/ps-files", _PsFileService_ListPsFiles0_HTTP_Handler(srv))
	r.PATCH("/v1/ps-files/{id}/status", _PsFileService_UpdatePsFileStatus0_HTTP_Handler(srv))
	r.POST("/v1/ps-files/{id}/reference", _PsFileService_IncrementReferenceCount0_HTTP_Handler(srv))
	r.DELETE("/v1/ps-files/{id}/reference", _PsFileService_DecrementReferenceCount0_HTTP_Handler(srv))
}

func _PsFileService_CreatePsFile0_HTTP_Handler(srv PsFileServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in CreatePsFileRequest
		if err := ctx.Bind(&in); err != nil {
			return err
		}
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationPsFileServiceCreatePsFile)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.CreatePsFile(ctx, req.(*CreatePsFileRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*CreatePsFileResponse)
		return ctx.Result(200, reply)
	}
}

func _PsFileService_GetPsFile0_HTTP_Handler(srv PsFileServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in GetPsFileRequest
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		if err := ctx.BindVars(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationPsFileServiceGetPsFile)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.GetPsFile(ctx, req.(*GetPsFileRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*GetPsFileResponse)
		return ctx.Result(200, reply)
	}
}

func _PsFileService_GetPsFileByHash0_HTTP_Handler(srv PsFileServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in GetPsFileByHashRequest
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		if err := ctx.BindVars(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationPsFileServiceGetPsFileByHash)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.GetPsFileByHash(ctx, req.(*GetPsFileByHashRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*GetPsFileByHashResponse)
		return ctx.Result(200, reply)
	}
}

func _PsFileService_CheckPsFileExists0_HTTP_Handler(srv PsFileServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in CheckPsFileExistsRequest
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		if err := ctx.BindVars(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationPsFileServiceCheckPsFileExists)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.CheckPsFileExists(ctx, req.(*CheckPsFileExistsRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*CheckPsFileExistsResponse)
		return ctx.Result(200, reply)
	}
}

func _PsFileService_ListPsFiles0_HTTP_Handler(srv PsFileServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in ListPsFilesRequest
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationPsFileServiceListPsFiles)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.ListPsFiles(ctx, req.(*ListPsFilesRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*ListPsFilesResponse)
		return ctx.Result(200, reply)
	}
}

func _PsFileService_UpdatePsFileStatus0_HTTP_Handler(srv PsFileServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in UpdatePsFileStatusRequest
		if err := ctx.Bind(&in); err != nil {
			return err
		}
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		if err := ctx.BindVars(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationPsFileServiceUpdatePsFileStatus)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.UpdatePsFileStatus(ctx, req.(*UpdatePsFileStatusRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*UpdatePsFileStatusResponse)
		return ctx.Result(200, reply)
	}
}

func _PsFileService_IncrementReferenceCount0_HTTP_Handler(srv PsFileServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in IncrementReferenceCountRequest
		if err := ctx.Bind(&in); err != nil {
			return err
		}
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		if err := ctx.BindVars(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationPsFileServiceIncrementReferenceCount)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.IncrementReferenceCount(ctx, req.(*IncrementReferenceCountRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*IncrementReferenceCountResponse)
		return ctx.Result(200, reply)
	}
}

func _PsFileService_DecrementReferenceCount0_HTTP_Handler(srv PsFileServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in DecrementReferenceCountRequest
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		if err := ctx.BindVars(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationPsFileServiceDecrementReferenceCount)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.DecrementReferenceCount(ctx, req.(*DecrementReferenceCountRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*DecrementReferenceCountResponse)
		return ctx.Result(200, reply)
	}
}

type PsFileServiceHTTPClient interface {
	// CheckPsFileExists Check if physical file exists by hash
	CheckPsFileExists(ctx context.Context, req *CheckPsFileExistsRequest, opts ...http.CallOption) (rsp *CheckPsFileExistsResponse, err error)
	// CreatePsFile Create a new physical file record
	CreatePsFile(ctx context.Context, req *CreatePsFileRequest, opts ...http.CallOption) (rsp *CreatePsFileResponse, err error)
	// DecrementReferenceCount Decrement reference count (when file is deleted by a user)
	DecrementReferenceCount(ctx context.Context, req *DecrementReferenceCountRequest, opts ...http.CallOption) (rsp *DecrementReferenceCountResponse, err error)
	// GetPsFile Get physical file by ID
	GetPsFile(ctx context.Context, req *GetPsFileRequest, opts ...http.CallOption) (rsp *GetPsFileResponse, err error)
	// GetPsFileByHash Get physical file by hash (for deduplication)
	GetPsFileByHash(ctx context.Context, req *GetPsFileByHashRequest, opts ...http.CallOption) (rsp *GetPsFileByHashResponse, err error)
	// IncrementReferenceCount Increment reference count (when file is referenced by another user)
	IncrementReferenceCount(ctx context.Context, req *IncrementReferenceCountRequest, opts ...http.CallOption) (rsp *IncrementReferenceCountResponse, err error)
	// ListPsFiles List all physical files
	ListPsFiles(ctx context.Context, req *ListPsFilesRequest, opts ...http.CallOption) (rsp *ListPsFilesResponse, err error)
	// UpdatePsFileStatus Update physical file status
	UpdatePsFileStatus(ctx context.Context, req *UpdatePsFileStatusRequest, opts ...http.CallOption) (rsp *UpdatePsFileStatusResponse, err error)
}

type PsFileServiceHTTPClientImpl struct {
	cc *http.Client
}

func NewPsFileServiceHTTPClient(client *http.Client) PsFileServiceHTTPClient {
	return &PsFileServiceHTTPClientImpl{client}
}

// CheckPsFileExists Check if physical file exists by hash
func (c *PsFileServiceHTTPClientImpl) CheckPsFileExists(ctx context.Context, in *CheckPsFileExistsRequest, opts ...http.CallOption) (*CheckPsFileExistsResponse, error) {
	var out CheckPsFileExistsResponse
	pattern := "/v1/ps-files/exists/{hash}"
	path := binding.EncodeURL(pattern, in, true)
	opts = append(opts, http.Operation(OperationPsFileServiceCheckPsFileExists))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "GET", path, nil, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// CreatePsFile Create a new physical file record
func (c *PsFileServiceHTTPClientImpl) CreatePsFile(ctx context.Context, in *CreatePsFileRequest, opts ...http.CallOption) (*CreatePsFileResponse, error) {
	var out CreatePsFileResponse
	pattern := "/v1/ps-files"
	path := binding.EncodeURL(pattern, in, false)
	opts = append(opts, http.Operation(OperationPsFileServiceCreatePsFile))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "POST", path, in, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// DecrementReferenceCount Decrement reference count (when file is deleted by a user)
func (c *PsFileServiceHTTPClientImpl) DecrementReferenceCount(ctx context.Context, in *DecrementReferenceCountRequest, opts ...http.CallOption) (*DecrementReferenceCountResponse, error) {
	var out DecrementReferenceCountResponse
	pattern := "/v1/ps-files/{id}/reference"
	path := binding.EncodeURL(pattern, in, true)
	opts = append(opts, http.Operation(OperationPsFileServiceDecrementReferenceCount))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "DELETE", path, nil, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// GetPsFile Get physical file by ID
func (c *PsFileServiceHTTPClientImpl) GetPsFile(ctx context.Context, in *GetPsFileRequest, opts ...http.CallOption) (*GetPsFileResponse, error) {
	var out GetPsFileResponse
	pattern := "/v1/ps-files/{id}"
	path := binding.EncodeURL(pattern, in, true)
	opts = append(opts, http.Operation(OperationPsFileServiceGetPsFile))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "GET", path, nil, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// GetPsFileByHash Get physical file by hash (for deduplication)
func (c *PsFileServiceHTTPClientImpl) GetPsFileByHash(ctx context.Context, in *GetPsFileByHashRequest, opts ...http.CallOption) (*GetPsFileByHashResponse, error) {
	var out GetPsFileByHashResponse
	pattern := "/v1/ps-files/hash/{hash}"
	path := binding.EncodeURL(pattern, in, true)
	opts = append(opts, http.Operation(OperationPsFileServiceGetPsFileByHash))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "GET", path, nil, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// IncrementReferenceCount Increment reference count (when file is referenced by another user)
func (c *PsFileServiceHTTPClientImpl) IncrementReferenceCount(ctx context.Context, in *IncrementReferenceCountRequest, opts ...http.CallOption) (*IncrementReferenceCountResponse, error) {
	var out IncrementReferenceCountResponse
	pattern := "/v1/ps-files/{id}/reference"
	path := binding.EncodeURL(pattern, in, false)
	opts = append(opts, http.Operation(OperationPsFileServiceIncrementReferenceCount))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "POST", path, in, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// ListPsFiles List all physical files
func (c *PsFileServiceHTTPClientImpl) ListPsFiles(ctx context.Context, in *ListPsFilesRequest, opts ...http.CallOption) (*ListPsFilesResponse, error) {
	var out ListPsFilesResponse
	pattern := "/v1/ps-files"
	path := binding.EncodeURL(pattern, in, true)
	opts = append(opts, http.Operation(OperationPsFileServiceListPsFiles))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "GET", path, nil, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// UpdatePsFileStatus Update physical file status
func (c *PsFileServiceHTTPClientImpl) UpdatePsFileStatus(ctx context.Context, in *UpdatePsFileStatusRequest, opts ...http.CallOption) (*UpdatePsFileStatusResponse, error) {
	var out UpdatePsFileStatusResponse
	pattern := "/v1/ps-files/{id}/status"
	path := binding.EncodeURL(pattern, in, false)
	opts = append(opts, http.Operation(OperationPsFileServiceUpdatePsFileStatus))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "PATCH", path, in, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}
