// Code generated by protoc-gen-go-http. DO NOT EDIT.
// versions:
// - protoc-gen-go-http v2.9.2
// - protoc             v6.33.4
// source: storage/v1/subscription.proto

package v1

import (
	context "context"
	http "github.com/go-kratos/kratos/v2/transport/http"
	binding "github.com/go-kratos/kratos/v2/transport/http/binding"
)

// This is a compile-time assertion to ensure that this generated file
// is compatible with the kratos package it is being compiled against.
var _ = new(context.Context)
var _ = binding.EncodeURL

const _ = http.SupportPackageIsVersion1

const OperationSubscriptionServiceCancelSubscription = "/storage.v1.SubscriptionService/CancelSubscription"
const OperationSubscriptionServiceCreateSubscription = "/storage.v1.SubscriptionService/CreateSubscription"
const OperationSubscriptionServiceExpireAllDueSubscriptions = "/storage.v1.SubscriptionService/ExpireAllDueSubscriptions"
const OperationSubscriptionServiceExpireSubscription = "/storage.v1.SubscriptionService/ExpireSubscription"
const OperationSubscriptionServiceGetSubscription = "/storage.v1.SubscriptionService/GetSubscription"
const OperationSubscriptionServiceGetUserActiveSubscription = "/storage.v1.SubscriptionService/GetUserActiveSubscription"
const OperationSubscriptionServiceListSubscriptions = "/storage.v1.SubscriptionService/ListSubscriptions"
const OperationSubscriptionServiceListUserSubscriptions = "/storage.v1.SubscriptionService/ListUserSubscriptions"
const OperationSubscriptionServiceResetExpiredQuotas = "/storage.v1.SubscriptionService/ResetExpiredQuotas"

type SubscriptionServiceHTTPServer interface {
	// CancelSubscription Cancel subscription
	CancelSubscription(context.Context, *CancelSubscriptionRequest) (*CancelSubscriptionResponse, error)
	// CreateSubscription Create a new subscription
	CreateSubscription(context.Context, *CreateSubscriptionRequest) (*CreateSubscriptionResponse, error)
	// ExpireAllDueSubscriptions Expire all due subscriptions (admin/cron job)
	ExpireAllDueSubscriptions(context.Context, *ExpireAllDueSubscriptionsRequest) (*ExpireAllDueSubscriptionsResponse, error)
	// ExpireSubscription Expire subscription manually
	ExpireSubscription(context.Context, *ExpireSubscriptionRequest) (*ExpireSubscriptionResponse, error)
	// GetSubscription Get subscription by ID
	GetSubscription(context.Context, *GetSubscriptionRequest) (*GetSubscriptionResponse, error)
	// GetUserActiveSubscription Get user's active subscription
	GetUserActiveSubscription(context.Context, *GetUserActiveSubscriptionRequest) (*GetUserActiveSubscriptionResponse, error)
	// ListSubscriptions List all subscriptions
	ListSubscriptions(context.Context, *ListSubscriptionsRequest) (*ListSubscriptionsResponse, error)
	// ListUserSubscriptions List user's subscription history
	ListUserSubscriptions(context.Context, *ListUserSubscriptionsRequest) (*ListUserSubscriptionsResponse, error)
	// ResetExpiredQuotas Reset quota to default for expired subscriptions (admin/cron job)
	ResetExpiredQuotas(context.Context, *ResetExpiredQuotasRequest) (*ResetExpiredQuotasResponse, error)
}

func RegisterSubscriptionServiceHTTPServer(s *http.Server, srv SubscriptionServiceHTTPServer) {
	r := s.Route("/")
	r.POST("/v1/subscriptions", _SubscriptionService_CreateSubscription0_HTTP_Handler(srv))
	r.GET("/v1/subscriptions/{id}", _SubscriptionService_GetSubscription0_HTTP_Handler(srv))
	r.GET("/v1/users/{user_id}/subscription", _SubscriptionService_GetUserActiveSubscription0_HTTP_Handler(srv))
	r.GET("/v1/subscriptions", _SubscriptionService_ListSubscriptions0_HTTP_Handler(srv))
	r.GET("/v1/users/{user_id}/subscriptions", _SubscriptionService_ListUserSubscriptions0_HTTP_Handler(srv))
	r.POST("/v1/subscriptions/{id}/cancel", _SubscriptionService_CancelSubscription0_HTTP_Handler(srv))
	r.POST("/v1/subscriptions/{id}/expire", _SubscriptionService_ExpireSubscription0_HTTP_Handler(srv))
	r.POST("/v1/subscriptions/expire-due", _SubscriptionService_ExpireAllDueSubscriptions0_HTTP_Handler(srv))
	r.POST("/v1/subscriptions/reset-quotas", _SubscriptionService_ResetExpiredQuotas0_HTTP_Handler(srv))
}

func _SubscriptionService_CreateSubscription0_HTTP_Handler(srv SubscriptionServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in CreateSubscriptionRequest
		if err := ctx.Bind(&in); err != nil {
			return err
		}
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationSubscriptionServiceCreateSubscription)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.CreateSubscription(ctx, req.(*CreateSubscriptionRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*CreateSubscriptionResponse)
		return ctx.Result(200, reply)
	}
}

func _SubscriptionService_GetSubscription0_HTTP_Handler(srv SubscriptionServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in GetSubscriptionRequest
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		if err := ctx.BindVars(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationSubscriptionServiceGetSubscription)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.GetSubscription(ctx, req.(*GetSubscriptionRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*GetSubscriptionResponse)
		return ctx.Result(200, reply)
	}
}

func _SubscriptionService_GetUserActiveSubscription0_HTTP_Handler(srv SubscriptionServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in GetUserActiveSubscriptionRequest
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		if err := ctx.BindVars(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationSubscriptionServiceGetUserActiveSubscription)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.GetUserActiveSubscription(ctx, req.(*GetUserActiveSubscriptionRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*GetUserActiveSubscriptionResponse)
		return ctx.Result(200, reply)
	}
}

func _SubscriptionService_ListSubscriptions0_HTTP_Handler(srv SubscriptionServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in ListSubscriptionsRequest
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationSubscriptionServiceListSubscriptions)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.ListSubscriptions(ctx, req.(*ListSubscriptionsRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*ListSubscriptionsResponse)
		return ctx.Result(200, reply)
	}
}

func _SubscriptionService_ListUserSubscriptions0_HTTP_Handler(srv SubscriptionServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in ListUserSubscriptionsRequest
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		if err := ctx.BindVars(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationSubscriptionServiceListUserSubscriptions)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.ListUserSubscriptions(ctx, req.(*ListUserSubscriptionsRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*ListUserSubscriptionsResponse)
		return ctx.Result(200, reply)
	}
}

func _SubscriptionService_CancelSubscription0_HTTP_Handler(srv SubscriptionServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in CancelSubscriptionRequest
		if err := ctx.Bind(&in); err != nil {
			return err
		}
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		if err := ctx.BindVars(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationSubscriptionServiceCancelSubscription)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.CancelSubscription(ctx, req.(*CancelSubscriptionRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*CancelSubscriptionResponse)
		return ctx.Result(200, reply)
	}
}

func _SubscriptionService_ExpireSubscription0_HTTP_Handler(srv SubscriptionServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in ExpireSubscriptionRequest
		if err := ctx.Bind(&in); err != nil {
			return err
		}
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		if err := ctx.BindVars(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationSubscriptionServiceExpireSubscription)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.ExpireSubscription(ctx, req.(*ExpireSubscriptionRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*ExpireSubscriptionResponse)
		return ctx.Result(200, reply)
	}
}

func _SubscriptionService_ExpireAllDueSubscriptions0_HTTP_Handler(srv SubscriptionServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in ExpireAllDueSubscriptionsRequest
		if err := ctx.Bind(&in); err != nil {
			return err
		}
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationSubscriptionServiceExpireAllDueSubscriptions)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.ExpireAllDueSubscriptions(ctx, req.(*ExpireAllDueSubscriptionsRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*ExpireAllDueSubscriptionsResponse)
		return ctx.Result(200, reply)
	}
}

func _SubscriptionService_ResetExpiredQuotas0_HTTP_Handler(srv SubscriptionServiceHTTPServer) func(ctx http.Context) error {
	return func(ctx http.Context) error {
		var in ResetExpiredQuotasRequest
		if err := ctx.Bind(&in); err != nil {
			return err
		}
		if err := ctx.BindQuery(&in); err != nil {
			return err
		}
		http.SetOperation(ctx, OperationSubscriptionServiceResetExpiredQuotas)
		h := ctx.Middleware(func(ctx context.Context, req interface{}) (interface{}, error) {
			return srv.ResetExpiredQuotas(ctx, req.(*ResetExpiredQuotasRequest))
		})
		out, err := h(ctx, &in)
		if err != nil {
			return err
		}
		reply := out.(*ResetExpiredQuotasResponse)
		return ctx.Result(200, reply)
	}
}

type SubscriptionServiceHTTPClient interface {
	// CancelSubscription Cancel subscription
	CancelSubscription(ctx context.Context, req *CancelSubscriptionRequest, opts ...http.CallOption) (rsp *CancelSubscriptionResponse, err error)
	// CreateSubscription Create a new subscription
	CreateSubscription(ctx context.Context, req *CreateSubscriptionRequest, opts ...http.CallOption) (rsp *CreateSubscriptionResponse, err error)
	// ExpireAllDueSubscriptions Expire all due subscriptions (admin/cron job)
	ExpireAllDueSubscriptions(ctx context.Context, req *ExpireAllDueSubscriptionsRequest, opts ...http.CallOption) (rsp *ExpireAllDueSubscriptionsResponse, err error)
	// ExpireSubscription Expire subscription manually
	ExpireSubscription(ctx context.Context, req *ExpireSubscriptionRequest, opts ...http.CallOption) (rsp *ExpireSubscriptionResponse, err error)
	// GetSubscription Get subscription by ID
	GetSubscription(ctx context.Context, req *GetSubscriptionRequest, opts ...http.CallOption) (rsp *GetSubscriptionResponse, err error)
	// GetUserActiveSubscription Get user's active subscription
	GetUserActiveSubscription(ctx context.Context, req *GetUserActiveSubscriptionRequest, opts ...http.CallOption) (rsp *GetUserActiveSubscriptionResponse, err error)
	// ListSubscriptions List all subscriptions
	ListSubscriptions(ctx context.Context, req *ListSubscriptionsRequest, opts ...http.CallOption) (rsp *ListSubscriptionsResponse, err error)
	// ListUserSubscriptions List user's subscription history
	ListUserSubscriptions(ctx context.Context, req *ListUserSubscriptionsRequest, opts ...http.CallOption) (rsp *ListUserSubscriptionsResponse, err error)
	// ResetExpiredQuotas Reset quota to default for expired subscriptions (admin/cron job)
	ResetExpiredQuotas(ctx context.Context, req *ResetExpiredQuotasRequest, opts ...http.CallOption) (rsp *ResetExpiredQuotasResponse, err error)
}

type SubscriptionServiceHTTPClientImpl struct {
	cc *http.Client
}

func NewSubscriptionServiceHTTPClient(client *http.Client) SubscriptionServiceHTTPClient {
	return &SubscriptionServiceHTTPClientImpl{client}
}

// CancelSubscription Cancel subscription
func (c *SubscriptionServiceHTTPClientImpl) CancelSubscription(ctx context.Context, in *CancelSubscriptionRequest, opts ...http.CallOption) (*CancelSubscriptionResponse, error) {
	var out CancelSubscriptionResponse
	pattern := "/v1/subscriptions/{id}/cancel"
	path := binding.EncodeURL(pattern, in, false)
	opts = append(opts, http.Operation(OperationSubscriptionServiceCancelSubscription))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "POST", path, in, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// CreateSubscription Create a new subscription
func (c *SubscriptionServiceHTTPClientImpl) CreateSubscription(ctx context.Context, in *CreateSubscriptionRequest, opts ...http.CallOption) (*CreateSubscriptionResponse, error) {
	var out CreateSubscriptionResponse
	pattern := "/v1/subscriptions"
	path := binding.EncodeURL(pattern, in, false)
	opts = append(opts, http.Operation(OperationSubscriptionServiceCreateSubscription))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "POST", path, in, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// ExpireAllDueSubscriptions Expire all due subscriptions (admin/cron job)
func (c *SubscriptionServiceHTTPClientImpl) ExpireAllDueSubscriptions(ctx context.Context, in *ExpireAllDueSubscriptionsRequest, opts ...http.CallOption) (*ExpireAllDueSubscriptionsResponse, error) {
	var out ExpireAllDueSubscriptionsResponse
	pattern := "/v1/subscriptions/expire-due"
	path := binding.EncodeURL(pattern, in, false)
	opts = append(opts, http.Operation(OperationSubscriptionServiceExpireAllDueSubscriptions))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "POST", path, in, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// ExpireSubscription Expire subscription manually
func (c *SubscriptionServiceHTTPClientImpl) ExpireSubscription(ctx context.Context, in *ExpireSubscriptionRequest, opts ...http.CallOption) (*ExpireSubscriptionResponse, error) {
	var out ExpireSubscriptionResponse
	pattern := "/v1/subscriptions/{id}/expire"
	path := binding.EncodeURL(pattern, in, false)
	opts = append(opts, http.Operation(OperationSubscriptionServiceExpireSubscription))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "POST", path, in, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// GetSubscription Get subscription by ID
func (c *SubscriptionServiceHTTPClientImpl) GetSubscription(ctx context.Context, in *GetSubscriptionRequest, opts ...http.CallOption) (*GetSubscriptionResponse, error) {
	var out GetSubscriptionResponse
	pattern := "/v1/subscriptions/{id}"
	path := binding.EncodeURL(pattern, in, true)
	opts = append(opts, http.Operation(OperationSubscriptionServiceGetSubscription))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "GET", path, nil, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// GetUserActiveSubscription Get user's active subscription
func (c *SubscriptionServiceHTTPClientImpl) GetUserActiveSubscription(ctx context.Context, in *GetUserActiveSubscriptionRequest, opts ...http.CallOption) (*GetUserActiveSubscriptionResponse, error) {
	var out GetUserActiveSubscriptionResponse
	pattern := "/v1/users/{user_id}/subscription"
	path := binding.EncodeURL(pattern, in, true)
	opts = append(opts, http.Operation(OperationSubscriptionServiceGetUserActiveSubscription))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "GET", path, nil, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// ListSubscriptions List all subscriptions
func (c *SubscriptionServiceHTTPClientImpl) ListSubscriptions(ctx context.Context, in *ListSubscriptionsRequest, opts ...http.CallOption) (*ListSubscriptionsResponse, error) {
	var out ListSubscriptionsResponse
	pattern := "/v1/subscriptions"
	path := binding.EncodeURL(pattern, in, true)
	opts = append(opts, http.Operation(OperationSubscriptionServiceListSubscriptions))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "GET", path, nil, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// ListUserSubscriptions List user's subscription history
func (c *SubscriptionServiceHTTPClientImpl) ListUserSubscriptions(ctx context.Context, in *ListUserSubscriptionsRequest, opts ...http.CallOption) (*ListUserSubscriptionsResponse, error) {
	var out ListUserSubscriptionsResponse
	pattern := "/v1/users/{user_id}/subscriptions"
	path := binding.EncodeURL(pattern, in, true)
	opts = append(opts, http.Operation(OperationSubscriptionServiceListUserSubscriptions))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "GET", path, nil, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}

// ResetExpiredQuotas Reset quota to default for expired subscriptions (admin/cron job)
func (c *SubscriptionServiceHTTPClientImpl) ResetExpiredQuotas(ctx context.Context, in *ResetExpiredQuotasRequest, opts ...http.CallOption) (*ResetExpiredQuotasResponse, error) {
	var out ResetExpiredQuotasResponse
	pattern := "/v1/subscriptions/reset-quotas"
	path := binding.EncodeURL(pattern, in, false)
	opts = append(opts, http.Operation(OperationSubscriptionServiceResetExpiredQuotas))
	opts = append(opts, http.PathTemplate(pattern))
	err := c.cc.Invoke(ctx, "POST", path, in, &out, opts...)
	if err != nil {
		return nil, err
	}
	return &out, nil
}
